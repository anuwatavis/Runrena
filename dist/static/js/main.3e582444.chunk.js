(this.webpackJsonprunrena=this.webpackJsonprunrena||[]).push([[0],{359:function(e,t,a){e.exports=a(623)},364:function(e,t,a){},579:function(e,t,a){},623:function(e,t,a){"use strict";a.r(t);var n,l=a(0),r=a.n(l),c=a(40),i=a.n(c),o=(a(364),a(27)),s=a(56),m=a(77),u=a(635),d=a(636),h=a(637),E=a(638),f=a(628),p=a(629),g=a(630),v=function(){return r.a.createElement(f.a,{navbar:!0},r.a.createElement(p.a,null,r.a.createElement(g.a,{href:"/signup"},"Sign Up")),r.a.createElement(p.a,null,r.a.createElement(g.a,{href:"/"},"Log In")))},b=a(8),N=a(9),C=a(12),w=a(10),O=a(13),y=a(631),j=a(632),S=a(633),k=a(634),I=(a(624),l.Component,a(11)),A=a(55),R=Object(I.b)(null,(function(e){return{signOut:function(){return e((function(e,t,a){(0,a.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))}))}}}))((function(e){return r.a.createElement(f.a,{navbar:!0},r.a.createElement(p.a,null,r.a.createElement("a",{href:"/runner/"+e.auth},r.a.createElement(A.a,{name:e.profile.initials,size:"40",round:!0,className:"avatar"}))),r.a.createElement(p.a,null,r.a.createElement(g.a,{href:"/",onClick:e.signOut},"Log Out")),r.a.createElement(p.a,null,r.a.createElement(g.a,{href:"/runner/"+e.auth},e.profile.firstName)))})),T=a(357),F=[{value:"L6JvGzT3xURwRWnvmJI25lAF12R2",label:"Harry"},{value:"LlyLjlqRiiSr2AOYgVS07AN1Mz23",label:"Peter"},{value:"zMqahfX66UMQi4Gd6JScQVRxfNu2",label:"Anuwat"},{value:"9PhDdozZddg8fbqdCkRlun9BY9N2",label:"Bon"},{value:"KdO0ZHja1ZgitIOCVDwCAdQpmlB3",label:"Ron"}],x=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(C.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(l)))).state={selectedOption:null},a.handleChange=function(e){a.setState({selectedOption:e}),console.log("Option selected:",e),window.location="/runner/"+e.value},a}return Object(O.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.state.selectedOption;return r.a.createElement(T.a,{value:e,onChange:this.handleChange,options:F,className:"searchBox mr-4"})}}]),t}(r.a.Component),P=Object(I.b)((function(e){return console.log(e),{auth:e.firebase.auth,profile:e.firebase.profile}}))((function(e){var t=Object(l.useState)(!1),a=Object(m.a)(t,2),n=a[0],c=a[1],i=e.auth,o=e.profile,s=i.uid?r.a.createElement(R,{profile:o,auth:i.uid}):r.a.createElement(v,null);return r.a.createElement("div",null,r.a.createElement(u.a,{color:"light",light:!0,expand:"md",fixed:"top"},r.a.createElement(d.a,{href:"/"},"Runrena"),r.a.createElement(h.a,{onClick:function(e){return c(!n)}}),r.a.createElement(E.a,{isOpen:n,navbar:!0},r.a.createElement(u.a,{className:"ml-auto"},r.a.createElement(x,null),s))))})),D=a(639),U=a(640),L=a(641),M=a(642),_=a(643),G=a(644),W=Object(I.b)((function(e){return{profile:e.firebase.profile,auth:e.firebase.auth}}))((function(e){var t=e.profile,a=e.auth;return r.a.createElement("div",null,r.a.createElement(D.a,{className:"athelete-profile-card"},r.a.createElement(U.a,null,r.a.createElement(L.a,{md:"12"},r.a.createElement(o.b,{to:"/runner/"+a.uid},r.a.createElement("div",{className:"avatar-flex"},r.a.createElement(A.a,{name:"Anu Wat",size:"100",round:!0,src:"https://www.outsideonline.com/sites/default/files/styles/img_600x600/public/2019/05/08/kichoge-winning-london_s.jpg?itok=oiezBvCc"}))))),r.a.createElement(M.a,{className:"text-center"},r.a.createElement(U.a,null,r.a.createElement(L.a,{md:"12"},r.a.createElement(_.a,null,r.a.createElement("h4",null,t.firstName))),r.a.createElement(L.a,{md:"12"},r.a.createElement(U.a,null,r.a.createElement(L.a,{md:"4"},r.a.createElement("div",{className:"text-small"},"Following"),r.a.createElement("div",{className:"stat-profile"},r.a.createElement("a",{href:"/"},"1"))),r.a.createElement(L.a,{md:"4"},r.a.createElement("div",{className:"text-small"},"Follower"),r.a.createElement("div",{className:"stat-profile"},r.a.createElement("a",{href:"/"},"100"))),r.a.createElement(L.a,{md:"4"},r.a.createElement("div",{className:"text-small"},"Activities"),r.a.createElement("div",{className:"stat-profile"},r.a.createElement("a",{href:"/"},"2000"))))))),r.a.createElement(G.a,null,r.a.createElement("div",{className:"card-section"},r.a.createElement("div",{className:"text-label text-small"},"Latest Activity"),r.a.createElement("div",{className:"text-small"},"Afternoon Run \u2022 March 1, 2020")))))})),q=a(146),K={labels:["Monday","February","March","April","May","June","July"],datasets:[{label:"My First dataset",backgroundColor:"rgba(255,99,132,0.2)",borderColor:"rgba(255,99,132,1)",borderWidth:1,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:[65,59,80,81,56,55,40]}]},B=function(){return r.a.createElement("div",null,r.a.createElement(D.a,{className:"athelete-week-report"},r.a.createElement(M.a,{className:"text-center"},r.a.createElement(_.a,null,r.a.createElement("h4",null,"Week Report")),r.a.createElement(q.a,{data:K,width:150,height:150})),r.a.createElement(G.a,null,r.a.createElement("div",{className:"card-section"},r.a.createElement("div",{className:"text-label text-small"},"Latest Activity"),r.a.createElement("div",{className:"text-small"},"Afternoon Run \u2022 March 1, 2020")))))},H=a(215),z=a.n(H),Y=a(645),J=a(656),V=a(646),Q=a(647),Z=a(648),X=a(68),$=Object(I.b)(null,(function(e){return{deletePost:function(t){return e(function(e){return console.log("deletePostAction -> activity",e),function(t,a,n){(0,n.getFirestore)().collection("activities").doc(e.id).delete().then((function(){window.location.reload(!1)}))}}(t))}}}))((function(e){var t=e.deletePost,a=e.activity,n=Object(l.useState)(!1),c=Object(m.a)(n,2),i=c[0],o=c[1],s=function(){o(!i)};return r.a.createElement("div",null,r.a.createElement(Y.a,{size:"sm",color:"danger",onClick:s,className:"ml-4 rounded-circle"},r.a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})),r.a.createElement(J.a,{isOpen:i,toggle:s},r.a.createElement(V.a,{toggle:s},"Delete Post"),r.a.createElement(Q.a,null,"Do you want to delete this post ?"),r.a.createElement(Z.a,null,r.a.createElement(Y.a,{color:"danger",onClick:function(){t(a),o(!i)}},"Delete")," ",r.a.createElement(Y.a,{color:"secondary",onClick:s},"Cancel"))))})),ee="",te=!1,ae=Object(I.b)((function(e){return{profile:e.firebase.profile,auth:e.firebase.auth}}))((function(e){var t=e.activity,a=(e.profile,e.auth),n=e.users;return te=a.uid===t.userId,n&&n.forEach((function(e){t.userId===e.id&&(ee=e.firstName)})),r.a.createElement("div",null,r.a.createElement(D.a,{className:"activity feed-entry mt-4"},r.a.createElement(M.a,null,r.a.createElement(U.a,{className:"entry header"},r.a.createElement(L.a,{md:"2"},r.a.createElement(o.b,{to:"/runner/"+t.userId},r.a.createElement(A.a,{name:ee,size:"50",round:!0}))),r.a.createElement(L.a,{md:"8"},r.a.createElement("div",{className:"entry owner"},ee),r.a.createElement("div",{className:"entry timestamp"},z()(t.createdAt.toDate()).calendar())),r.a.createElement(L.a,{md:"2"},te?r.a.createElement($,{activity:t}):null)),r.a.createElement(U.a,{className:"entry-body"},r.a.createElement(L.a,{md:"2",className:"d-flex justify-content-center align-self-center"},r.a.createElement("i",{className:"fas fa-running run-logo"})),r.a.createElement(L.a,{md:"10"},r.a.createElement(U.a,null,r.a.createElement(L.a,{md:"12"},r.a.createElement("h3",{className:"thai-font"},t.titleActivity)),r.a.createElement(L.a,{md:"12"},r.a.createElement(U.a,null,r.a.createElement(L.a,{md:"4",className:"stat-list"},r.a.createElement("div",null,"Distance"),r.a.createElement("div",null,t.totalDistance," Km")),r.a.createElement(L.a,{md:"4",className:"stat-list"},r.a.createElement("div",null,"Pace"),r.a.createElement("div",null,t.averagePace," /Km")),r.a.createElement(L.a,{md:"4"},r.a.createElement("div",null,"Time"),r.a.createElement("div",null,t.totalTime," Min"))))))))))})),ne=a(649),le=function(e){var t=e.activities,a=e.users;return t?r.a.createElement("div",{className:"activities-list-section"},t&&t.map((function(e){return r.a.createElement(ae,{activity:e,key:e.id+Math.random(),users:a})}))):r.a.createElement(ne.a,{color:"danger",className:"text-center"},"Loading...")},re=a(650),ce=a(651),ie=a(652),oe=function(e){return r.a.createElement("div",null,r.a.createElement(D.a,{className:"mt-5"},r.a.createElement(M.a,null,r.a.createElement(_.a,null,r.a.createElement("p",null,"Running Event")),r.a.createElement(re.a,null,r.a.createElement("p",{className:"font-weight-bold "},"Run to the World 2020"))),r.a.createElement("img",{width:"100%",src:"https://storage.googleapis.com/s.race.thai.run/events/5e19521142f3fcf4780ead1a/media/bbb0df21-4985-4693-8d8e-459219241c0a.jpg",alt:"runing"}),r.a.createElement(M.a,null,r.a.createElement(ce.a,null,"#THAIRUN #Thai Life Insurance and #SUUNTO invite you to run Run To The World 2020 (a virtual run 10km run) program that makes you part of a world-class marathon."),r.a.createElement(ie.a,{href:"#"},"Join"),r.a.createElement(ie.a,{href:"#"},"Description"),r.a.createElement(ce.a,null,"Notification"),r.a.createElement("li",null,"Notification"),r.a.createElement("li",null,"Notification"),r.a.createElement("li",null,"Notification"),r.a.createElement("li",null,"Notification")),r.a.createElement(G.a,{className:"text-center"},"runrena 2020")))},se=a(41),me=a(36),ue=a(352),de=a.n(ue),he=a(653),Ee=a(657),fe=function(e){var t=e.activityData;return r.a.createElement(D.a,{className:"activity feed-entry mt-2"},r.a.createElement(M.a,null,r.a.createElement(U.a,{className:"entry-body"},r.a.createElement(L.a,{md:"2",className:"d-flex justify-content-center align-self-center"},r.a.createElement("i",{className:"fas fa-running run-logo"})),r.a.createElement(L.a,{md:"10"},r.a.createElement(U.a,null,r.a.createElement(L.a,{md:"12"},r.a.createElement("h3",null,"You're Stat")),r.a.createElement(L.a,{md:"12"},r.a.createElement(U.a,null,r.a.createElement(L.a,{md:"4",className:"stat-list"},r.a.createElement("div",null,"Distance"),r.a.createElement("div",null,t.totalDistance," Km")),r.a.createElement(L.a,{md:"4",className:"stat-list"},r.a.createElement("div",null,"Pace"),r.a.createElement("div",null,t.averagePace," /Km")),r.a.createElement(L.a,{md:"4"},r.a.createElement("div",null,"Time"),r.a.createElement("div",null,t.totalTime," Min")))))))))},pe=function(e){var t=e.msg,a=Object(l.useState)(!0),n=Object(m.a)(a,2),c=n[0],i=n[1];return r.a.createElement(ne.a,{color:"info",isOpen:c,toggle:function(){return i(!1)}},t)},ge=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(C.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(l)))).state={titleActivity:null,totalTime:null,totalDistance:null,averagePace:null,averageElevation:null,totalCalories:null,averageHr:null,averageCadence:null},a.handelFile=function(e){var t=e.target.files[0];de.a.parse(t,{header:!0,complete:a.updateData})},a.updateData=function(e){var t=e.data,n=t[t.length-1];a.setState({totalTime:n.Time,totalDistance:n.Distance,averagePace:n["Avg Pace"],averageElevation:n["Elev Gain"],totalCalories:n.Calories,averageHr:n["Avg HR"],averageCadence:n["Avg Run Cadence"]})},a.handelTitleChange=function(e){a.setState({titleActivity:e.target.value})},a.handelSubmit=function(e){e.preventDefault(),a.props.createActivity(a.state),document.getElementById("create-course-form").reset()},a}return Object(O.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(D.a,null,r.a.createElement(he.a,{id:"test"},"Post"),r.a.createElement(M.a,{className:"upload-activity"},r.a.createElement(_.a,null,r.a.createElement("h2",null,"Upload Activity")),r.a.createElement(y.a,{onSubmit:this.handelSubmit,id:"create-course-form"},r.a.createElement(j.a,null,r.a.createElement(S.a,{for:"titleActivity"},"Title Activity"),r.a.createElement(k.a,{type:"text",name:"title-activity",id:"titleActivity",placeholder:"Bang Khun Running",required:!0,onChange:this.handelTitleChange})),r.a.createElement(j.a,null,r.a.createElement(S.a,{for:"FileBrowser"},"Upload"),r.a.createElement(Ee.a,{type:"file",id:"FileBrowser",name:"customFile",label:"activity.csv",onChange:this.handelFile,required:!0})),this.state.totalTime?r.a.createElement(pe,{msg:"Upload Completed"}):null,this.state.totalTime?r.a.createElement(fe,{activityData:this.state}):null,r.a.createElement(Y.a,{className:"mt-2 float-right"},"Post")))))}}]),t}(l.Component),ve=Object(I.b)(null,(function(e){return{createActivity:function(t){return e(function(e){function t(e){return parseFloat(e.replace(":","."))}return function(a,n,l){var r=(0,l.getFirestore)(),c=n().firebase.profile,i=n().firebase.auth.uid,o=t(e.totalTime),s=t(e.averagePace),m=parseFloat(e.totalDistance),u=parseInt(e.averageElevation),d=parseInt(e.totalCalories),h=parseInt(e.averageHr),E=parseInt(e.averageCadence);r.collection("activities").add(Object(X.a)({},e,{userFirstName:c.firstName,userLastName:c.lastName,userId:i,totalDistance:m,averageElevation:u,totalCalories:d,averageHr:h,averageCadence:E,totalTime:o,averagePace:s,createdAt:new Date})).then((function(){a({type:"CREATE_ACTIVITY",activity:e})})).catch((function(e){a({type:"CREATE_PROJECT_ERROR"},e)}))}}(t))}}}))(ge),be=a(217),Ne=a.n(be),Ce=function(e){return function(t,a,n){(0,n.getFirestore)().collection("runrena_friend").doc(e).collection("followers").get().then((function(a){var n=[e];a.forEach((function(e){!0===e.data().followered&&n.push(e.id)})),t({type:"RUNRENA_FRIEND",friend:n})}))}},we=function(e){function t(){return Object(b.a)(this,t),Object(C.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.props.friendAction(this.props.auth.uid)}},{key:"render",value:function(){var e=this.props,t=e.activities,a=e.auth,l=e.users;e.friend;return a.uid?(t&&(n=t.slice().sort((function(e,t){return t.createdAt-e.createdAt})),console.log(n)),r.a.createElement("div",null,r.a.createElement("div",{className:"container dashboard"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(W,null),r.a.createElement(B,null)),r.a.createElement("div",{className:"col-6"},r.a.createElement(ve,null),r.a.createElement(le,{activities:n,users:l})),r.a.createElement("div",{className:"col"},r.a.createElement(oe,null)))))):r.a.createElement(s.a,{to:"/"})}}]),t}(l.Component),Oe=Object(me.d)(Object(I.b)((function(e,t){return{friend:e.friend.friend,activities:e.firestore.ordered.activities,auth:e.firebase.auth,users:e.firestore.ordered.users}}),(function(e){return{friendAction:function(t){return e(Ce(t))}}})),Object(se.firestoreConnect)((function(e){return console.log("props",e),[{collection:"activities",where:[["userId","in",e.name]]},{collection:"users"}]})))(we),ye=function(e){function t(){return Object(b.a)(this,t),Object(C.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.props.friendAction(this.props.auth.uid)}},{key:"render",value:function(){return this.props.auth.uid?r.a.createElement("div",null,this.props.friend?r.a.createElement(Oe,{name:this.props.friend}):null):r.a.createElement(s.a,{to:"/"})}}]),t}(l.Component),je=Object(I.b)((function(e){return{auth:e.firebase.auth,friend:e.friend.friend}}),(function(e){return{friendAction:function(t){return e(Ce(t))}}}))(ye),Se=(a(579),a(54)),ke=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(C.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(l)))).state={email:"",password:""},a.handelChange=function(e){a.setState(Object(Se.a)({},e.target.id,e.target.value))},a.handelSubmit=function(e){e.preventDefault(),a.props.signIn(a.state)},a}return Object(O.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.uid?r.a.createElement(s.a,{to:"/runrena"}):r.a.createElement("div",{className:"signin-page"},r.a.createElement(y.a,{className:"form-signin",onSubmit:this.handelSubmit},r.a.createElement(j.a,null,r.a.createElement(S.a,{for:"email"},"Email"),r.a.createElement(k.a,{type:"email",name:"email",id:"email",placeholder:"Email",onChange:this.handelChange})),r.a.createElement(j.a,null,r.a.createElement(S.a,{for:"password"},"Password"),r.a.createElement(k.a,{type:"password",name:"password",id:"password",placeholder:"Password",onChange:this.handelChange})),r.a.createElement(Y.a,{className:"btn-block"},"Submit"),r.a.createElement("div",null,t?r.a.createElement("p",null,t):null)))}}]),t}(l.Component),Ie=Object(I.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{signIn:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then((function(){e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_ERROR",err:t})}))}));var a}}}))(ke),Ae=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(C.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(l)))).state={email:"",password:"",firstName:"",lastName:"",weight:null,height:null,gender:"Male",age:null},a.handelChange=function(e){a.setState(Object(Se.a)({},e.target.id,e.target.value)),console.log(a.state)},a.handelSubmit=function(e){e.preventDefault(),console.log(a.state),a.props.signUp(a.state)},a}return Object(O.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authError;return t.uid?r.a.createElement(s.a,{to:"/"}):r.a.createElement("div",{className:"signin-page"},r.a.createElement(y.a,{className:"form-signin",onSubmit:this.handelSubmit},r.a.createElement(j.a,null,r.a.createElement(S.a,{for:"email"},"Email"),r.a.createElement(k.a,{type:"email",name:"email",id:"email",placeholder:"Email",onChange:this.handelChange,required:!0})),r.a.createElement(j.a,null,r.a.createElement(S.a,{for:"password"},"Password"),r.a.createElement(k.a,{type:"password",name:"password",id:"password",placeholder:"Password",onChange:this.handelChange,required:!0})),r.a.createElement(U.a,{form:!0},r.a.createElement(L.a,{md:6},r.a.createElement(j.a,null,r.a.createElement(S.a,{for:"firstName"},"First Name"),r.a.createElement(k.a,{type:"text",name:"password",id:"firstName",placeholder:"First Name",onChange:this.handelChange}))),r.a.createElement(L.a,{md:6},r.a.createElement(j.a,null,r.a.createElement(S.a,{for:"lastName"},"Last Name"),r.a.createElement(k.a,{type:"text",name:"password",id:"lastName",placeholder:"Last Name",onChange:this.handelChange,required:!0})))),r.a.createElement(U.a,{form:!0},r.a.createElement(L.a,{md:6},r.a.createElement(j.a,null,r.a.createElement(S.a,{for:"weight"},"Weight"),r.a.createElement(k.a,{type:"number",name:"weight",id:"weight",placeholder:"Weight(Kg)",min:"10",onChange:this.handelChange,required:!0}))),r.a.createElement(L.a,{md:6},r.a.createElement(j.a,null,r.a.createElement(S.a,{for:"height"},"Height"),r.a.createElement(k.a,{type:"number",name:"height",id:"height",placeholder:"Height(Cm)",onChange:this.handelChange,min:"50",required:!0})))),r.a.createElement(U.a,{form:!0},r.a.createElement(L.a,{md:6},r.a.createElement(j.a,null,r.a.createElement(S.a,{for:"gender"},"Gender"),r.a.createElement(k.a,{type:"select",name:"gender",id:"gender",onChange:this.handelChange,required:!0},r.a.createElement("option",null,"Male"),r.a.createElement("option",null,"Female"),r.a.createElement("option",null,"Others")))),r.a.createElement(L.a,{md:6},r.a.createElement(j.a,null,r.a.createElement(S.a,{for:"age"},"Age"),r.a.createElement(k.a,{type:"number",name:"age",id:"age",placeholder:"Age",onChange:this.handelChange,min:"7",max:"100"})))),r.a.createElement("div",null,a?r.a.createElement("p",null,a):null),r.a.createElement(Y.a,{className:"btn-block"},"Submit")))}}]),t}(l.Component),Re=Object(I.b)((function(e){return{auth:e.firebase.auth,authError:e.auth.authError}}),(function(e){return{signUp:function(t){return e(function(e){return function(t,a,n){var l=n.getFirebase,r=n.getFirestore,c=l(),i=r();console.log(e),c.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return i.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,weight:parseInt(e.weight),height:parseInt(e.height),gender:e.gender,initials:e.firstName[0]+e.lastName[0],quote:""})})).then((function(){t({type:"SIGNUP_SUCCESS"})})).catch((function(e){t({type:"SIGNUP_ERROR",err:e})}))}}(t))}}}))(Ae),Te=a(654),Fe=!0,xe=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(C.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(l)))).state={userId:a.props.userId,followerProfile:a.props.followerProfile,followerId:a.props.followerId,followedState:a.props.followedState.followerState,activitiesCount:a.props.activities.length},a.handelFollowerClicked=function(e){var t=!a.state.followedState;a.setState({followedState:t});var n={userId:a.state.userId,followerId:a.state.followerId,followerState:t};a.props.followerAction(n)},a}return Object(O.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.state.followerProfile;return this.state.userId===this.state.followerId&&(Fe=!1),t.forEach((function(a){a.id===e.state.followerId&&(t=a)})),r.a.createElement("div",{className:"container dashboard"},r.a.createElement(D.a,null,r.a.createElement(U.a,{className:"text-center align-items-center"},r.a.createElement(L.a,null,r.a.createElement("div",{className:"mt-2"},r.a.createElement(A.a,{name:"Anu Wat",size:"70",round:!0,src:"https://www.outsideonline.com/sites/default/files/styles/img_600x600/public/2019/05/08/kichoge-winning-london_s.jpg?itok=oiezBvCc"})),this.state.followerProfile?r.a.createElement("h5",null,t.firstName):null,this.state.followedState&&Fe?r.a.createElement(Y.a,{color:"primary",size:"sm",className:"rounded-70 mb-3",onClick:this.handelFollowerClicked},"unfollow"):null,!this.state.followedState&&Fe?r.a.createElement(Y.a,{color:"primary",size:"sm",className:"rounded-70 mb-3",onClick:this.handelFollowerClicked},"follow"):null),r.a.createElement(L.a,null,r.a.createElement(U.a,null,r.a.createElement(L.a,{md:"4",className:"stat-list px-0"},r.a.createElement("div",{className:"font-weight-bold"},"Follwers"),r.a.createElement("div",null,"12")),r.a.createElement(L.a,{md:"4",className:"stat-list px-0"},r.a.createElement("div",{className:"font-weight-bold"},"Follwing"),r.a.createElement("div",null,"123")),r.a.createElement(L.a,{md:"4",className:"px-0"},r.a.createElement("div",{className:"font-weight-bold"},"Activities"),r.a.createElement("div",null,"11")),r.a.createElement(L.a,{md:"12",className:"mt-4"},r.a.createElement("h5",null,this.state.followerProfile?r.a.createElement(Te.a,{color:"dark"},t.quote):null)))),r.a.createElement(L.a,null,r.a.createElement("div",{className:"font-weight-bold"},"last 4 weeks"),r.a.createElement("div",{className:"display-4"},this.state.activitiesCount),r.a.createElement("div",null,"total activities")),r.a.createElement(L.a,null,r.a.createElement(o.b,{to:"/profile/"},r.a.createElement(Y.a,{color:"secondary",size:"sm"},r.a.createElement("i",{className:"fas fa-user-edit"})),r.a.createElement("h6",null,r.a.createElement(Te.a,{color:"secondary"},"Edit Profile")))))))}}]),t}(l.Component),Pe=Object(I.b)(null,(function(e){return{followerAction:function(t){return e(function(e){return console.log("dataFromFollowerAction",e),function(t,a,n){(0,n.getFirestore)().collection("runrena_friend").doc(e.userId).collection("followers").doc(e.followerId).set({followered:e.followerState}).then((function(){console.log("complete follower")})).catch((function(e){}))}}(t))}}}))(xe),De=a(353),Ue=a.n(De),Le=(a(340),{labels:["Anuwat","John","Peter","Natacha","Tony","Prayut","Paiboon","Teerapong","Tanapon","Piyawat"],datasets:[{label:"Your Beat",backgroundColor:"salmon",borderColor:"white",borderWidth:2,barPercentage:.4,data:[65,59,80,81,56,55,40,10,20,30,10]}]}),Me=function(e){function t(){return Object(b.a)(this,t),Object(C.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"pl-5 pr-5"},r.a.createElement(q.a,{data:Le,width:10,height:300,options:{maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]},color:["red","green","red","green","red","green","red","green"]}}))}}]),t}(l.Component),_e=function(e){function t(){return Object(b.a)(this,t),Object(C.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container mt-2"},r.a.createElement(D.a,null,r.a.createElement(he.a,null,"Overview"),r.a.createElement(U.a,{className:"align-items-center"},r.a.createElement(L.a,{md:"9"}),r.a.createElement(L.a,{md:"3",className:"text-center"},r.a.createElement("div",{className:"mt-2"},r.a.createElement(Ue.a,null)))),r.a.createElement(U.a,null,r.a.createElement(L.a,{md:"12"},r.a.createElement(Me,null)))))}}]),t}(l.Component),Ge=a(354),We=a.n(Ge),qe=a(220),Ke=a.n(qe),Be=a(355),He=a(655),ze=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(C.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(l)))).state={activities:null,averageStat:null},a.average=function(e){var t=0,a=0,n=0,l={};return l.runningCount=e.length,e.forEach((function(e){t+=e.totalDistance,a+=e.totalTime,n+=e.averageElevation})),l.avgDistance=t/7,l.avgTime=a/7,l.Time=a,l.Elevation=n,l.totalDistance=t,l},a}return Object(O.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){var e=Object(Be.a)(Ke.a.mark((function e(){var t=this;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.a.get("https://us-central1-runrena-b3aa5.cloudfunctions.net/hello/customers",{params:{id:this.props.userId}}).then((function(e){var a=e.data,n=t.average(a);t.setState({activities:a,averageStat:n})}));case 2:e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.averageStat;return r.a.createElement("div",null,r.a.createElement(He.a,{size:"sm"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"row",className:"text-info"},"Last 4 Weeks"),r.a.createElement("td",null)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Avg Distance / Week"),e?r.a.createElement("td",null,e.avgDistance.toFixed(2)," Km"):r.a.createElement("td",null,"loading")),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Avg Time / Week"),e?r.a.createElement("td",null,e.avgTime.toFixed(2)," min"):r.a.createElement("td",null,"loading")),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Avg Runs / Week"),e?r.a.createElement("td",null,e.runningCount," runs"):r.a.createElement("td",null,"loading"),r.a.createElement("td",null)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row",className:"text-info"},"Estimated Best Efforts"),r.a.createElement("td",null)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"1 K"),r.a.createElement("td",null,"4:17 mins")),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"5 K"),r.a.createElement("td",null,"25.16 mins")),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Time"),e?r.a.createElement("td",null,e.Time.toFixed(2)," mins"):r.a.createElement("td",null,"loading")),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Elev Gain"),e?r.a.createElement("td",null,e.Elevation," m"):r.a.createElement("td",null,"loading")),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Run"),e?r.a.createElement("td",null,e.runningCount):r.a.createElement("td",null,"loading")),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row",className:"text-info"},"All-Time"),r.a.createElement("td",null)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Distance"),e?r.a.createElement("td",null,e.totalDistance.toFixed(2)," km"):r.a.createElement("td",null,"loading")))))}}]),t}(l.Component),Ye=function(e){function t(){return Object(b.a)(this,t),Object(C.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props.userId;return r.a.createElement("div",{className:"container mt-2 mb-5"},r.a.createElement(D.a,null,r.a.createElement(he.a,null,"My Stat"),r.a.createElement(M.a,null,r.a.createElement(U.a,{className:"align-items-center"},r.a.createElement(L.a,{md:"6"},r.a.createElement("div",{className:"pb-5 mb-5"},r.a.createElement(We.a,null))),r.a.createElement(L.a,{md:"6"},r.a.createElement(ze,{userId:e}))))))}}]),t}(l.Component),Je=function(e){function t(){return Object(b.a)(this,t),Object(C.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){var e,t=this.props,a=t.followerProfile,n=t.activities,l=t.auth,c=t.followerId,i=t.followedStateData;return void 0!==i&&(e=0!==i[0].followers.length?{followerState:i[0].followers[0].followered}:{followerState:!1}),l.uid?r.a.createElement("div",null,a&&l&&c&&a&&n&&e&&l?r.a.createElement(Pe,{userId:l.uid,followedState:e,followerId:c,followerProfile:a,activities:n}):null,r.a.createElement(_e,null),r.a.createElement(Ye,{activities:n,userId:c})):r.a.createElement(s.a,{to:"/signin"})}}]),t}(l.Component),Ve=Object(me.d)(Object(se.firebaseConnect)(),Object(I.b)((function(e,t){return{followerId:t.match.params.id,followerProfile:e.firestore.ordered.users,activities:e.firestore.ordered.activities,auth:e.firebase.auth,followedStateData:e.firestore.ordered.runrena_friend}})),Object(se.firestoreConnect)((function(e){return[{collection:"activities",where:[["userId","==",e.followerId]]},{collection:"users",doc:e.followerId},{collection:"runrena_friend",doc:e.auth.uid,subcollections:[{collection:"followers",doc:e.followerId}]}]})))(Je),Qe=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(C.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(l)))).state={firstName:a.props.profile.firstName,lastName:a.props.profile.lastName,gender:a.props.profile.gender,height:a.props.profile.height,weight:a.props.profile.weight,quote:a.props.profile.quote,nameClicked:!1,lastNameClicked:!1,quoteClicked:!1,weightClicked:!1,heightClicked:!1,genderClicked:!1,authId:a.props.auth},a.handleClick=function(e){a.setState({nameClicked:!0})},a.handelClickLastName=function(e){a.setState({lastNameClicked:!0})},a.handelChangeFirstName=function(e){a.setState({firstName:e.target.value})},a.handleChangeLastName=function(e){a.setState({lastName:e.target.value})},a.handelSubmit=function(e){e.preventDefault(),a.setState({nameClicked:!1}),a.props.profileUpdate(a.state)},a.handelSubmitLastName=function(e){e.preventDefault(),a.setState({lastNameClicked:!1})},a.handleClickQuote=function(e){a.setState({quoteClicked:!0})},a.handelSubmitQuote=function(e){e.preventDefault(),a.setState({quoteClicked:!1}),a.props.profileUpdate(a.state)},a.handelChangeQuote=function(e){a.setState({quote:e.target.value})},a.handelClickWeight=function(e){a.setState({weightClicked:!0})},a.handelChangeWeight=function(e){a.setState({weight:e.target.value})},a.handelSubmitWeight=function(e){e.preventDefault(),a.setState({weightClicked:!1}),a.props.profileUpdate(a.state)},a.handelClickHeight=function(e){a.setState({heightClicked:!0})},a.handelChangeHeight=function(e){a.setState({height:e.target.value})},a.handelSubmitHeight=function(e){e.preventDefault(),a.setState({heightClicked:!1}),a.props.profileUpdate(a.state)},a.handelClickGender=function(e){a.setState({genderClicked:!0})},a.handelChangeGender=function(e){console.log(e.target.value),a.setState({gender:e.target.value})},a.handelSubmitGender=function(e){e.preventDefault(),a.setState({genderClicked:!1}),a.props.profileUpdate(a.state)},a}return Object(O.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container dashboard"},r.a.createElement(U.a,null,r.a.createElement(L.a,{md:"2"},r.a.createElement(D.a,null,r.a.createElement(he.a,{className:"text-center"},this.state.firstName))),r.a.createElement(L.a,{md:"8"},r.a.createElement("h2",null,"My Profile"),r.a.createElement("hr",null),r.a.createElement("p",null,"Current Photo"),r.a.createElement(He.a,{hover:!0},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Firstname"),r.a.createElement("td",{className:"col",id:"name"},r.a.createElement("h6",null,this.state.firstName," ",r.a.createElement("i",{className:"far fa-edit",onClick:this.handleClick})),this.state.nameClicked?r.a.createElement("div",null,r.a.createElement(y.a,{inline:!0,onSubmit:this.handelSubmit},r.a.createElement(j.a,{className:"mt-1"},r.a.createElement(k.a,{type:"text",name:"firstname",id:"firstname",placeholder:this.state.firstName,onChange:this.handelChangeFirstName,maxLength:"45"})),r.a.createElement(Y.a,{className:"btn-sm ml-2"},"Edit"))):null)),r.a.createElement("tr",null,r.a.createElement("td",null,"Lastname"),r.a.createElement("td",{className:"col"},r.a.createElement("h6",null,this.state.lastName," ",r.a.createElement("i",{className:"far fa-edit",onClick:this.handelClickLastName})),this.state.lastNameClicked?r.a.createElement("div",null,r.a.createElement(y.a,{inline:!0,onSubmit:this.handelSubmitLastName},r.a.createElement(j.a,{className:"mt-1"},r.a.createElement(k.a,{type:"text",name:"lastname",id:"lastname",placeholder:this.state.lastName,onChange:this.handleChangeLastName,maxLength:"45"})),r.a.createElement(Y.a,{className:"btn-sm ml-2"},"Edit"))):null)),r.a.createElement("tr",null,r.a.createElement("td",null,"Gender"),r.a.createElement("td",null,r.a.createElement("h6",null,this.state.gender," ",r.a.createElement("i",{className:"far fa-edit",onClick:this.handelClickGender})),this.state.genderClicked?r.a.createElement("div",null,r.a.createElement(y.a,{inline:!0,onSubmit:this.handelSubmitGender},r.a.createElement(j.a,{className:"mt-1"},r.a.createElement(k.a,{type:"select",name:"select",id:"male",onChange:this.handelChangeGender,defaultValue:"DEFAULT"},r.a.createElement("option",{value:"DEFAULT",disabled:!0},"Choose here"),r.a.createElement("option",null,"Male"),r.a.createElement("option",null,"Female"),r.a.createElement("option",null,"Others"))),r.a.createElement(Y.a,{className:"btn-sm ml-2"},"Edit"))):null)),r.a.createElement("tr",null,r.a.createElement("td",null,"Weight"),r.a.createElement("td",null,r.a.createElement("h6",null,this.state.weight," Kg ",r.a.createElement("i",{className:"far fa-edit",onClick:this.handelClickWeight})),this.state.weightClicked?r.a.createElement("div",null,r.a.createElement(y.a,{inline:!0,onSubmit:this.handelSubmitWeight},r.a.createElement(j.a,{className:"mt-1"},r.a.createElement(k.a,{type:"number",name:"firsname",id:"weight",placeholder:this.state.weightClicked,onChange:this.handelChangeWeight})),r.a.createElement(Y.a,{className:"btn-sm ml-2"},"Edit"))):null)),r.a.createElement("tr",null,r.a.createElement("td",null,"Height"),r.a.createElement("td",null,r.a.createElement("h6",null,this.state.height," cm ",r.a.createElement("i",{className:"far fa-edit",onClick:this.handelClickHeight})),this.state.heightClicked?r.a.createElement("div",null,r.a.createElement(y.a,{inline:!0,onSubmit:this.handelSubmitHeight},r.a.createElement(j.a,{className:"mt-1"},r.a.createElement(k.a,{type:"number",name:"firsname",id:"height",placeholder:this.state.height,onChange:this.handelChangeHeight})),r.a.createElement(Y.a,{className:"btn-sm ml-2"},"Edit"))):null)),r.a.createElement("tr",null,r.a.createElement("td",null,"Location"),r.a.createElement("td",null,r.a.createElement("h6",null,"null, null"))),r.a.createElement("tr",null,r.a.createElement("td",null,"Quote"),r.a.createElement("td",null,r.a.createElement("h6",null,this.state.quote," ",r.a.createElement("i",{className:"far fa-edit",onClick:this.handleClickQuote})),this.state.quoteClicked?r.a.createElement("div",null,r.a.createElement(y.a,{inline:!0,onSubmit:this.handelSubmitQuote},r.a.createElement(j.a,{className:"mt-1"},r.a.createElement(k.a,{type:"text",name:"firsname",id:"examplePassword",placeholder:this.state.quote,onChange:this.handelChangeQuote})),r.a.createElement(Y.a,{className:"btn-sm ml-2"},"Edit"))):null))))),r.a.createElement(L.a,{md:"2"},'"Rerena 2020"')))}}]),t}(l.Component),Ze=Object(I.b)(null,(function(e){return{profileUpdate:function(t){return e(function(e){return console.log(e),console.log("nameUpdate"),function(t,a,n){(0,n.getFirestore)().collection("users").doc(e.authId).update({firstName:e.firstName,lastName:e.lastName,gender:e.gender,height:e.height,weight:e.weight,quote:e.quote}).then((function(){console.log("updateNameDone")}))}}(t))}}}))(Qe),Xe=function(e){function t(){return Object(b.a)(this,t),Object(C.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.profile.firstName&&this.props.auth?r.a.createElement(Ze,{profile:this.props.profile,auth:this.props.auth}):null)}}]),t}(l.Component),$e=Object(I.b)((function(e){return{profile:e.firebase.profile,auth:e.firebase.auth.uid}}),null)(Xe);var et=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(o.a,null,r.a.createElement(P,null),r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/runrena",component:je}),r.a.createElement(s.b,{exact:!0,path:"/",component:Ie}),r.a.createElement(s.b,{path:"/signup",component:Re}),r.a.createElement(s.b,{path:"/runner/:id",component:Ve}),r.a.createElement(s.b,{path:"/profile/",component:$e}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(587);var tt={authError:null},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return console.log("Login Error"),Object(X.a)({},e,{authError:"Login failed"});case"LOGIN_SUCCESS":return console.log("Login Success"),Object(X.a)({},e,{authError:null});case"SIGNOUT_SUCCESS":return console.log("Sign Out Success"),e;case"SIGNUP_SUCCESS":return console.log("Signup Succress"),Object(X.a)({},e,{authError:null});case"SIGNUP_ERROR":return console.log("signup error"),Object(X.a)({},e,{authError:t.err.message});default:return e}},nt=a(358),lt={activities:[{id:"1",title:"Phapayom Run",distance:"21.00 KM",pace:"5:10 /KM",time:"12m"},{id:"2",title:"COVID-19 Run",distance:"5.00 KM",pace:"6:10 /KM",time:"2h 48m"},{id:"3",title:"Bangkun Thain Run",distance:"10.00 KM",pace:"7:10 /KM",time:"48m"},{id:"4",title:"Phatthalung Run",distance:"10.00 KM",pace:"7:10 /KM",time:"48m"}]},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_ACTIVITY":console.log(t),console.log("CREATE PROJECT");var a={activities:[t.activity].concat(Object(nt.a)(e.activities))};return a;case"CREATE_ACTIVITY_ERROR":default:return e}},ct=a(101),it={friend:null},ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RUNRENA_FRIEND":console.log("GET FRIEND");var a={friend:t.friend};return a;default:return e}},st={activities:[]},mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTIVITY_POST":console.log("ACTIVITY_POST");var a={activityStat:t.activities};return a;case"CREATE_ACTIVITY_ERROR":default:return e}},ut=Object(me.c)({auth:at,activities:rt,firestore:ct.firestoreReducer,firebase:se.firebaseReducer,friend:ot,activityPost:mt}),dt=a(356),ht=a(221),Et=a.n(ht);a(621),a(622);Et.a.initializeApp({apiKey:"AIzaSyD5KsmYR3dTKVkKs4j90mFURSYJmH7Y3UM",authDomain:"runrena-b3aa5.firebaseapp.com",databaseURL:"https://runrena-b3aa5.firebaseio.com",projectId:"runrena-b3aa5",storageBucket:"runrena-b3aa5.appspot.com",messagingSenderId:"934836139007",appId:"1:934836139007:web:437ccaa11f9a0097ffedca",measurementId:"G-LZYG8XJ7F2"});var ft=Et.a,pt=Object(me.e)(ut,Object(me.d)(Object(me.a)(dt.a.withExtraArgument({getFirebase:se.getFirebase,getFirestore:ct.getFirestore})),Object(se.reactReduxFirebase)(ft,{useFirestoreForProfile:!0,userProfile:"users",attachAuthIsReady:!0}),Object(ct.reduxFirestore)(ft)));pt.firebaseAuthIsReady.then((function(){i.a.render(r.a.createElement(I.a,{store:pt},r.a.createElement(et,null)),document.getElementById("root"))})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[359,1,2]]]);
//# sourceMappingURL=main.3e582444.chunk.js.map